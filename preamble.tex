%% Common Packages and Configuration

% Generate ActualText annotations for better copy/paste in some PDF readers.
\XeTeXgenerateactualtext=1

%% Typography and Style %%
\usepackage{microtype}
\usepackage{booktabs}
\usepackage{xcolor}
\usepackage{hyperref}
\hypersetup{
  colorlinks=true,
  urlcolor=blue
}

%% Maths %%
\usepackage{mathtools}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{unicode-math}
\usepackage[free-standing-units]{siunitx}

% Absolute value/norms and floor/ceiling
\DeclarePairedDelimiter\abs{\lvert}{\rvert}
\DeclarePairedDelimiter\norm{\lVert}{\rVert}
\DeclarePairedDelimiter\ceil{\lceil}{\rceil}
\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}

% Permutations and combinations
\newcommand*{\perm}[2]{\prescript{#1}{}P_{#2}}
\newcommand*{\comb}[2]{\prescript{#1}{}C_{#2}}

% Improve spacing before theorem environments.
\makeatletter
\def\thm@space@setup{%
  \thm@preskip=\parskip % chktex 1
}
\makeatother

%% Language %%
\usepackage{csquotes}
\usepackage{polyglossia}
\setdefaultlanguage[variant=newzealand, ordinalmonthday]{english}
