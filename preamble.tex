%% Common Packages and Configuration

%% Layout and Style %%
\usepackage{float}
\usepackage{enumitem}
\usepackage{booktabs}
\usepackage{xcolor}
\usepackage{hyperref}
\hypersetup{
  colorlinks=true,
  urlcolor=blue,
  pdfauthor={Severen Redwood},
}

%% Typography %%
\usepackage{fontspec}
\usepackage{microtype}

%% Maths %%
\usepackage{mathtools}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage[free-standing-units]{siunitx}
\usepackage{unicode-math}

% General
\DeclarePairedDelimiter{\card}{\lvert}{\rvert}
\DeclarePairedDelimiter{\abs}{\lvert}{\rvert}
\DeclarePairedDelimiter{\norm}{\lVert}{\rVert}
\DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}
\DeclarePairedDelimiter{\floor}{\lfloor}{\rfloor}

\newcommand*{\conj}[1]{\overbar{#1}}

% Combinatorics
\newcommand*{\perm}[2]{\prescript{#1}{}P_{#2}}
\newcommand*{\comb}[2]{\prescript{#1}{}C_{#2}}

% Calculus
\DeclareMathOperator{\dif}{d\!}
\newcommand*{\od}[3][]{\frac{\dif{^{#1}}#2}{\dif{#3^{#1}}}}
\newcommand*{\pd}[3][]{\frac{\partial{^{#1}}#2}{\partial{#3^{#1}}}}

% Linear Algebra
\newcommand*{\uvec}[1]{\hat{#1}}
\newcommand*{\ihat}{\uvec{\imath}}
\newcommand*{\jhat}{\uvec{\jmath}}

% Hack in support for augmented matrices into the matrix commands.
\makeatletter
\renewcommand*{\env@matrix}[1][*\c@MaxMatrixCols c]{
  \hskip -\arraycolsep
  \let\@ifnextchar\new@ifnextchar
  \array{#1}
}
\makeatother

% Statistics
\newcommand*{\mean}[1]{\overbar{#1}}

%% Language %%
\usepackage{csquotes}
\usepackage{polyglossia}
\setdefaultlanguage[variant=newzealand, ordinalmonthday]{english}
